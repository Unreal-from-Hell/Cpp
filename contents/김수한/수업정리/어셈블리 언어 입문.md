# 어셈블리 언어 입문
## 환경설정
### 어셈블러
> 어셈블러란?
![](http://www.kwangsiklee.com/wp-content/uploads/direct/compiler/border/compiler0200.png)

- 어셈블러, 컴파일러 -> 자연어와 기계어 사이의 번역기
- 어셈블리어 - 가장 low한 언어 (가장 컴퓨터와 가까운 언어)

### 컴퓨터 구조에 대한 간단한 정리
>실행 파일의 구조
![](https://mblogthumb-phinf.pstatic.net/20130609_171/cor2quard_1370767395360NYXOX_PNG/1.png?type=w2)

- 다양한 섹션으로 나뉘어져 있음
- 싱행에 필요한 온갖 정보들이 섹션에 나뉘어 저장 됨.
- 실행 시 복사되어 메모리에 올라감.
---------------------------------------
## 데이터 기초
### 비트와 바이트
> 비트와 바이트
![](https://img.samsungsemiconstory.com/kr/wp-content/uploads/2021/05/byte_words_20200710_01.jpeg)

### N진법
#### 10진법
- (0, 1, 2, 3, 4, 5, 6, 7, 8, 9)를 이용하여 표현
- 표현방법 : ex) 1, 10, 100 등
#### 2진법
- (0, 1)을 이용하여 표현
- 표현방법 : 앞에 0b를 붙혀 표현 ex) 0b0, 0b101 등
- 이진수를 비트로 표현할 때 최상위 비는 부호비트이다.
ex) 단위가 byte인 경우
```
0000 0000 = +1
```
```
1111 1111 = -1
```
```
1000 0000 = - 128
```
#### 16진법
- (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F)를 이용하여 표현
- 표현방법 : 앞에 0x를 붙혀 표현 ex) 0x1 0x1B 등
- 이진수와의 변환이 빠르고 편하다. 이진수를 4비트씩 16진수로 변환하면 된다.
ex) 이진수 0000 0101을 16진수로 변환하면
```
0111 -> 7  ,    1101 -> D
```
따라서 0x7D가 된다.
### N의 보수
#### 보수란?
일반적으로 N진법에 대하여 N의 보수와 N-1의 보수가 존재한다
- N의 보수 : 자릿수를 한자리 늘리기 위해 필요한 수
ex) 10진수에서 33의 10의 보수 = 100 - 33 = 67
- N-1의 보수 : 같은 자릿수에서 가장 큰 값이 되기 위해 필요한 수
ex) 10진수에서 33의 9의 보수 = 99 - 33 = 66
N의 보수는 (N-1)의 보수에 1을 더한 것임을 알 수 있다.
#### 이진수에서 주어진 값(N)의 음수(-N)를 구하는 방법
2의 보수를 취한다! ( 1의 보수 + 1을 취한다)
ex) 단위가 byte일 때 5의 음수 -5를 구하기
```
0000 0101 = 5
```
1의 보수를 취한다.
```
1111 1010 = -6
```
1을 더한다
```
1111 1011 = -5
```
-------------------------------------------------------
## 레지스터 기초
### 데이터 단위
- 8 bit = 1 byte
- 16 bit = 2 byte = 1word
- 32 bit = 4 byte = 2word = 1 dword
- 64 bit = 8byte = 4word = 2 dword = 1 qword
### 저장공간
#### 크기
```
레지스터 < 메모리 < 하드디스크
```
#### 속도
```
레지스터 > 메모리 > 하드디스크
```
### 레지스터
> ![](https://pwnh4.com/reverse-register-size.png)
> 레지스터 사용 방법 (레지스터 a)
- rax : 64bit 전부 사용
- eax : 32bit만 사용
- ax : 16bit만 사용

### mov
우측에서 좌측으로 대입

-----------------------------------------------
## 변수와 레지스터
### 변수의 선언 및 사용
#### 데이터섹션
- 초기화 된 데이터
- 선언방식 : (변수이름) (크기 : db, dw, dd, dq) (초기값)
ex) a db 0x11
#### BSS 섹션
- 초기화 되지 않은 데이터
- 선언방식 : (변수이름) (크기 : resb, resw, resd, resq) (개수)
ex) e resb 10
### 메모리 <-> 레지스터
- mov rax, a : a의 주소값을 rax에 저장
- mov rax, [a] : a의 값을 rax에 저장 (데이터 크기가 다르기 때문에 결과값이 원하는 결과로 도출되지 않음)
- mov al, [a] :a의 값을 al에 저장
- mov [a], al : a의 값을 al의 값으로 대입
